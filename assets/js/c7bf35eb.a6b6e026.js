"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[740],{682:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"tutorials/variable-transformers","title":"Variable Pre Change Transformers","description":"Variable pre change transformers provide a way to modify the value of a Variable before it gets changed. These are used to introduce customized logic into the process of updating the value of an Variable. For example, a pre change transformer could be used to limit a player\'s health within certain boundaries, such as ensuring that it never drops below zero.","source":"@site/../docs/tutorials/variable-transformers.md","sourceDirName":"tutorials","slug":"/tutorials/variable-transformers","permalink":"/unity-atoms/docs/tutorials/variable-transformers","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Soraphis","lastUpdatedAt":1689977646000,"frontMatter":{"id":"variable-transformers","title":"Variable Pre Change Transformers","hide_title":true,"sidebar_label":"Variable Pre Change Transformers"},"sidebar":"docs","previous":{"title":"Mono Hooks","permalink":"/unity-atoms/docs/tutorials/mono-hooks"},"next":{"title":"Variable Instancer","permalink":"/unity-atoms/docs/tutorials/variable-instancer"}}');var a=n(4848),s=n(8453);const o={id:"variable-transformers",title:"Variable Pre Change Transformers",hide_title:!0,sidebar_label:"Variable Pre Change Transformers"},i="Variable Pre Change Transformers",l={},h=[{value:"Step 1: Create a Pre Change Transformer",id:"step-1-create-a-pre-change-transformer",level:2},{value:"Step 2: Use the Pre Change Transformer",id:"step-2-use-the-pre-change-transformer",level:2},{value:"Notes",id:"notes",level:2}];function c(e){const r={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.header,{children:(0,a.jsx)(r.h1,{id:"variable-pre-change-transformers",children:"Variable Pre Change Transformers"})}),"\n",(0,a.jsx)(r.p,{children:"Variable pre change transformers provide a way to modify the value of a Variable before it gets changed. These are used to introduce customized logic into the process of updating the value of an Variable. For example, a pre change transformer could be used to limit a player's health within certain boundaries, such as ensuring that it never drops below zero."}),"\n",(0,a.jsx)(r.p,{children:"In this tutorial, we'll look at how to use a pre change transformer in UnityAtoms."}),"\n",(0,a.jsx)(r.h2,{id:"step-1-create-a-pre-change-transformer",children:"Step 1: Create a Pre Change Transformer"}),"\n",(0,a.jsx)(r.p,{children:"Firstly, we need to create a new class for our pre change transformer. Let's say we are going to create a transformer that ensures the health of our player never falls below 0."}),"\n",(0,a.jsxs)(r.p,{children:["Create a new C# script and name it ",(0,a.jsx)(r.code,{children:"MinHealthTransformer"}),". This script should extend ",(0,a.jsx)(r.code,{children:"IntIntFunction"})," and override the ",(0,a.jsx)(r.code,{children:"Call"})," method:"]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{children:'using UnityAtoms.BaseAtoms;\n\n[EditorIcon("atom-icon-sand")]\n[CreateAssetMenu(menuName = "Unity Atoms/Functions/Transformers/MinHealth Int (int => int)", fileName = "MinHealth")]\npublic class MinHealthTransformer : IntIntFunction\n{\n    public override int Call(int value)\n    {\n        if (value < 0)\n            return 0;\n        else\n            return value;\n    }\n}\n'})}),"\n",(0,a.jsxs)(r.p,{children:["In the ",(0,a.jsx)(r.code,{children:"Call"})," method, we're checking if the new value of health is less than 0. If so, we're returning 0 instead of the new value. This ensures the player's health never drops below 0."]}),"\n",(0,a.jsx)(r.h2,{id:"step-2-use-the-pre-change-transformer",children:"Step 2: Use the Pre Change Transformer"}),"\n",(0,a.jsx)(r.p,{children:"To use this transformer, we need to create a ScriptableObject of this type."}),"\n",(0,a.jsx)(r.p,{children:"In the Unity Editor:"}),"\n",(0,a.jsxs)(r.ol,{children:["\n",(0,a.jsxs)(r.li,{children:["Right-click in the project window and choose ",(0,a.jsx)(r.code,{children:"Create > UnityAtoms > Functions > Transformers > MinHealth Int (int => int)"}),"."]}),"\n",(0,a.jsxs)(r.li,{children:["Name the Object ",(0,a.jsx)(r.code,{children:"MinHealthTransformer"}),"."]}),"\n",(0,a.jsxs)(r.li,{children:["In the inspector window, set the ",(0,a.jsx)(r.code,{children:"Pre Change Transform"})," to be ",(0,a.jsx)(r.code,{children:"MinHealthTransformer"}),"."]}),"\n"]}),"\n",(0,a.jsxs)(r.p,{children:["Now, whenever the ",(0,a.jsx)(r.code,{children:"PlayerHealth"})," value is changed, the ",(0,a.jsx)(r.code,{children:"MinHealthTransformer"}),"'s ",(0,a.jsx)(r.code,{children:"PreChangeCheck"})," method will be called, ensuring the health never drops below 0."]}),"\n",(0,a.jsx)(r.h2,{id:"notes",children:"Notes"}),"\n",(0,a.jsxs)(r.p,{children:["As the name suggests, pre change transformers are executed ",(0,a.jsx)(r.em,{children:"before"})," the change events are invoked."]})]})}function d(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var t=n(6540);const a={},s=t.createContext(a);function o(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);