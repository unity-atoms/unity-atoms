"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[492],{35:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/assign-to-healthbar-e2c4023525778aba6f31b726583006bf.gif"},856:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/intreference-demo-a420086329b861e5a4a29d81da7a27a7.gif"},4715:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/assign-to-playerhealth-b6110c5f2af24fe6de6136005e8835b1.gif"},5795:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/int-constant_max-player-health-e36c31a75a48f6c0a697de292f0a9370.png"},6285:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"tutorials/variables","title":"Variables","description":"Below follows a step-by-step example of managing a player\'s health using Unity Atoms. If you haven\'t read the Creating Atoms, Philosophy and Overview section you should do that before proceeding.","source":"@site/../docs/tutorials/variables.md","sourceDirName":"tutorials","slug":"/tutorials/variables","permalink":"/unity-atoms/docs/tutorials/variables","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Soraphis","lastUpdatedAt":1689977646000,"frontMatter":{"id":"variables","title":"Variables","hide_title":true,"sidebar_label":"Variables"},"sidebar":"docs","previous":{"title":"Creating Atoms","permalink":"/unity-atoms/docs/tutorials/creating-atoms"},"next":{"title":"Events","permalink":"/unity-atoms/docs/tutorials/events"}}');var s=t(4848),i=t(8453);const l={id:"variables",title:"Variables",hide_title:!0,sidebar_label:"Variables"},r="Variables, Constants, and References",o={},c=[{value:"Decouple your scripts using Variables and Constants",id:"decouple-your-scripts-using-variables-and-constants",level:2},{value:"Creating a simple health bar",id:"creating-a-simple-health-bar",level:2},{value:"Adding Atoms",id:"adding-atoms",level:2},{value:"Assigning Atoms",id:"assigning-atoms",level:2},{value:"Introduce flexibility using References",id:"introduce-flexibility-using-references",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const a={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"variables-constants-and-references",children:"Variables, Constants, and References"})}),"\n",(0,s.jsxs)(a.p,{children:["Below follows a step-by-step example of managing a player's health using Unity Atoms. If you haven't read the ",(0,s.jsx)(a.a,{href:"/unity-atoms/docs/tutorials/creating-atoms",children:"Creating Atoms"}),", ",(0,s.jsx)(a.a,{href:"/unity-atoms/docs/introduction/philosophy",children:"Philosophy"})," and ",(0,s.jsx)(a.a,{href:"/unity-atoms/docs/introduction/overview",children:"Overview"})," section you should do that before proceeding."]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsxs)(a.em,{children:["NOTE: This tutorial is based on ",(0,s.jsx)(a.a,{href:"https://medium.com/@adamramberg/unity-atoms-tiny-modular-pieces-utilizing-the-power-of-scriptable-objects-e8add1b95201",children:"this"})," blog post. The blog post is based on a previous version of Unity Atoms and as such will vary in content and appearance. The ideas presented by the blog post still apply."]})}),"\n",(0,s.jsx)(a.h2,{id:"decouple-your-scripts-using-variables-and-constants",children:"Decouple your scripts using Variables and Constants"}),"\n",(0,s.jsx)(a.p,{children:"Variables are storing data, for example primitives, reference types or structs as Scriptable Objects. Because Variables are stored as Scriptable Objects they are not part of any scene, but could instead be seen as part of the game\u2019s global shared state. Variables are designed to make it easy to inject them (via the Unity Inspector) and share them between your MonoBehaviours. A Constant is a trimmed down version of a Variable and it's value can't be altered at runtime. Lets see an example on how to use Variables and Constants!"}),"\n",(0,s.jsxs)(a.p,{children:["Imagine you have a ",(0,s.jsx)(a.code,{children:"PlayerHealth.cs"})," script that contains the health of the game\u2019s player. We will attach the script to a ",(0,s.jsx)(a.code,{children:"GameObject"})," with a ",(0,s.jsx)(a.code,{children:"SpriteRenderer"}),", ",(0,s.jsx)(a.code,{children:"BoxCollider2D"})," and a ",(0,s.jsx)(a.code,{children:"Rigidbody2D"})," called Player. The health is represented by an ",(0,s.jsx)(a.code,{children:"int"}),", which corresponds to an ",(0,s.jsx)(a.code,{children:"IntVariable"})," in Unity Atoms. The script will look like this:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cs",children:"using UnityEngine;\nusing UnityAtoms.BaseAtoms;\n\npublic class PlayerHealth : MonoBehaviour\n{\n    public IntVariable Health;\n}\n"})}),"\n",(0,s.jsxs)(a.p,{children:["In the game the player\u2019s health will decrease when hitting something harmful. We will attach this ",(0,s.jsx)(a.code,{children:"Harmful.cs"})," script to a GameObject called Harmful that also has a ",(0,s.jsx)(a.code,{children:"SpriteRenderer"})," and a ",(0,s.jsx)(a.code,{children:"BoxCollider2D"})," (as a trigger):"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cs",children:'using UnityEngine;\n\npublic class Harmful : MonoBehaviour\n{\n    void OnTriggerEnter2D(Collider2D collider)\n    {\n        if (collider.tag == "Player")\n        {\n            collider.GetComponent<PlayerHealth>().Health.Value -= 10;\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(a.p,{children:"This script is added as an example of what might influence the value of the player's health during gameplay. It will be referenced in a later tutorial."}),"\n",(0,s.jsx)(a.h2,{id:"creating-a-simple-health-bar",children:"Creating a simple health bar"}),"\n",(0,s.jsxs)(a.p,{children:["Finally we will add an UI ",(0,s.jsx)(a.code,{children:"HealthBar.cs"})," script that we attach to a ",(0,s.jsx)(a.code,{children:"GameObject"})," (inside a UI Canvas) with a ",(0,s.jsx)(a.code,{children:"RectTransforn"}),", ",(0,s.jsx)(a.code,{children:"CanvasRenderer"})," and UI ",(0,s.jsx)(a.code,{children:"Image"})," component. The ",(0,s.jsx)(a.code,{children:"HealthBar.cs"})," script will update the ",(0,s.jsx)(a.code,{children:"Image"})," representing the health bar when the player\u2019s health is changing:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cs",children:"using UnityEngine;\nusing UnityEngine.UI;\nusing UnityAtoms.BaseAtoms;\n\npublic class HealthBar : MonoBehaviour\n{\n    [SerializeField]\n    private IntVariable Health;\n    [SerializeField]\n    private IntConstant MaxHealth;\n\n    void Update()\n    {\n        GetComponent<Image>().fillAmount = 1.0f * Health.Value / MaxHealth.Value;\n    }\n}\n"})}),"\n",(0,s.jsx)(a.h2,{id:"adding-atoms",children:"Adding Atoms"}),"\n",(0,s.jsxs)(a.p,{children:["Go ahead and create an ",(0,s.jsx)(a.code,{children:"IntVariable"})," called ",(0,s.jsx)(a.code,{children:"Health"})," and an ",(0,s.jsx)(a.code,{children:"IntConstant"})," called ",(0,s.jsx)(a.code,{children:"MaxHealth"}),". ",(0,s.jsx)(a.code,{children:"MaxHealth"})," is an ",(0,s.jsx)(a.code,{children:"IntConstant"})," since it will not be changed during runtime. Set the initial value and value to 100, respectively."]}),"\n",(0,s.jsxs)(a.p,{children:["To create these ",(0,s.jsx)(a.code,{children:".asset"})," files, see ",(0,s.jsx)(a.a,{href:"/unity-atoms/docs/tutorials/creating-atoms",children:"Creating Atoms"}),". They are both global assets stored as ",(0,s.jsx)(a.code,{children:".asset"})," files that could be shared between scripts."]}),"\n",(0,s.jsx)(a.p,{children:"The Variable Atom looks like this in the Unity Inspector:"}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"int-variable_player-health-v1",src:t(7590).A+"",width:"690",height:"369"})}),"\n",(0,s.jsx)(a.p,{children:"And the Constant Atom looks like this:"}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"int-variable_player-health",src:t(5795).A+"",width:"690",height:"228"})}),"\n",(0,s.jsxs)(a.p,{children:["The ",(0,s.jsx)(a.code,{children:"Developer Description"})," is a text describing the Variable in order to document it, the ",(0,s.jsx)(a.code,{children:"Value"})," is the actual value of the Variable, and ",(0,s.jsx)(a.code,{children:"Old Value"})," is the last value the Variable had after it was changed via code."]}),"\n",(0,s.jsxs)(a.p,{children:[(0,s.jsx)(a.code,{children:"Changed"})," and ",(0,s.jsx)(a.code,{children:"Changed With History"})," are explained in the ",(0,s.jsx)(a.a,{href:"/unity-atoms/docs/tutorials/events",children:"Events"})," tutorial."]}),"\n",(0,s.jsx)(a.h2,{id:"assigning-atoms",children:"Assigning Atoms"}),"\n",(0,s.jsxs)(a.p,{children:["Atoms can be assigned using the Unity Inspector. Assign the Atoms on the ",(0,s.jsx)(a.code,{children:"PlayerHealth"}),"  like this:"]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"assign-to-playerhealth",src:t(4715).A+"",width:"758",height:"301"})}),"\n",(0,s.jsxs)(a.p,{children:["and ",(0,s.jsx)(a.code,{children:"HealthBar"})," like this:"]}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"assign-to-healthbar",src:t(35).A+"",width:"758",height:"351"})}),"\n",(0,s.jsxs)(a.p,{children:["Variables give us a way of separating our game\u2019s shared state from the actual implementation. It also makes our code less coupled since we do not need to reference other MonoBehaviours in our scripts, e.g. we do not need to reference the ",(0,s.jsx)(a.code,{children:"PlayerHealth.cs"})," script in our ",(0,s.jsx)(a.code,{children:"HealthBar.cs"})," script like this:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cs",children:"[SerializeField]\nprivate PlayerHealth playerHealth; // Code would become coupled with PlayerHealth\n"})}),"\n",(0,s.jsx)(a.h2,{id:"introduce-flexibility-using-references",children:"Introduce flexibility using References"}),"\n",(0,s.jsxs)(a.p,{children:["For more flexibility in your code, you may also choose to use ",(0,s.jsx)(a.code,{children:"IntReference"})," instead of ",(0,s.jsx)(a.code,{children:"IntVariable"})," or ",(0,s.jsx)(a.code,{children:"IntConstant"}),"."]}),"\n",(0,s.jsxs)(a.p,{children:["In the previous example, change the type of ",(0,s.jsx)(a.code,{children:"MaxHealth"})," to ",(0,s.jsx)(a.code,{children:"IntReference"}),":"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-cs",children:"[SerializeField]\nprivate IntReference MaxHealth;\n"})}),"\n",(0,s.jsx)(a.p,{children:"Now you have more options for the variable in the inspector:"}),"\n",(0,s.jsx)(a.p,{children:(0,s.jsx)(a.img,{alt:"intreference-demo",src:t(856).A+"",width:"681",height:"350"})}),"\n",(0,s.jsx)(a.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,s.jsxs)(a.p,{children:["At first glance the scipts here do not seem to work. The health bar stays at the same value even if the value of the ",(0,s.jsx)(a.code,{children:"Health"})," Atom changes. This tutorial is primarily about decoupling scripts. To have the health bar function as expected, events and listeners are needed. These are both introduced in later tutorials."]}),"\n",(0,s.jsx)(a.p,{children:"Hurray for less coupled code! \ud83c\udf89"})]})}function h(e={}){const{wrapper:a}={...(0,i.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},7590:(e,a,t)=>{t.d(a,{A:()=>n});const n=t.p+"assets/images/int-variable_player-health-v1-016bb167d1d50e5b8b57556004633ee2.png"},8453:(e,a,t)=>{t.d(a,{R:()=>l,x:()=>r});var n=t(6540);const s={},i=n.createContext(s);function l(e){const a=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),n.createElement(i.Provider,{value:a},e.children)}}}]);