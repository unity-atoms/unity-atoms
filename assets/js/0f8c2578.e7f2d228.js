"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[420],{3147:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"tutorials/events","title":"Events","description":"Events are things that happens in our game that other scripts or entities could listen and subscribe to. Events are (like Variables) also Scriptable Objects that live outside of a specific scene. In Unity Atoms Events can be of different types and thereby pass along data to listeners. Variables do by default have the possibility to raise two specific Events:","source":"@site/../docs/tutorials/events.md","sourceDirName":"tutorials","slug":"/tutorials/events","permalink":"/unity-atoms/docs/tutorials/events","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Miika L\xf6nnqvist","lastUpdatedAt":1623695572000,"frontMatter":{"id":"events","title":"Events","hide_title":true,"sidebar_label":"Events"},"sidebar":"docs","previous":{"title":"Variables","permalink":"/unity-atoms/docs/tutorials/variables"},"next":{"title":"Listeners","permalink":"/unity-atoms/docs/tutorials/listeners"}}');var a=n(4848),i=n(8453);const r={id:"events",title:"Events",hide_title:!0,sidebar_label:"Events"},o="Events",l={},c=[];function h(e){const t={a:"a",code:"code",h1:"h1",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"events",children:"Events"})}),"\n",(0,a.jsx)(t.p,{children:"Events are things that happens in our game that other scripts or entities could listen and subscribe to. Events are (like Variables) also Scriptable Objects that live outside of a specific scene. In Unity Atoms Events can be of different types and thereby pass along data to listeners. Variables do by default have the possibility to raise two specific Events:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"Changed"})," \u2014 raised every time a Variable\u2019s value is changed. The Event contains the new value."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"Changed With History"})," \u2014 also raised every time a Variable\u2019s value is changed. However, this Event contains both the new and the old value."]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["This makes it easier to make our game more data driven than just using Variables. Lets take a look at how that looks in our last example. We can ",(0,a.jsx)(t.a,{href:"/unity-atoms/docs/tutorials/creating-atoms",children:"create"})," a new ",(0,a.jsx)(t.code,{children:"IntEvent"})," and called ",(0,a.jsx)(t.code,{children:"HealthChangedEvent"}),". Drop it on our ",(0,a.jsx)(t.code,{children:"IntVariable"})," for the player\u2019s health like this:"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"health-changed-event-drop",src:n(5202).A+"",width:"701",height:"396"})}),"\n",(0,a.jsxs)(t.p,{children:["We can then modify our ",(0,a.jsx)(t.code,{children:"HealthBar.cs"})," script to look like this:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-cs",children:"using UnityEngine;\nusing UnityEngine.UI;\nusing UnityAtoms.BaseAtoms;\n\npublic class HealthBar : MonoBehaviour\n{\n    [SerializeField]\n    private IntEvent HealthChangedEvent;\n    [SerializeField]\n    private IntConstant MaxHealth;\n\n    void Start()\n    {\n        HealthChangedEvent.Register(this.ChangeFillAmount);\n    }\n\n    void OnDestroy()\n    {\n        HealthChangedEvent.Unregister(this.ChangeFillAmount);\n    }\n\n    private void ChangeFillAmount(int health)\n    {\n        GetComponent<Image>().fillAmount = 1.0f * health / MaxHealth.Value;\n    }\n}\n"})}),"\n",(0,a.jsxs)(t.p,{children:["And then inject the ",(0,a.jsx)(t.code,{children:"HealthChangedEvent"})," to our ",(0,a.jsx)(t.code,{children:"HealthBar"})," component:"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"events-to-healthbar",src:n(9527).A+"",width:"700",height:"306"})}),"\n",(0,a.jsxs)(t.p,{children:["We now react to global state changes instead of checking the Variable value each Update tick. In other words we only update our ",(0,a.jsx)(t.code,{children:"Image"})," component when we actually need to. That is pretty sweet!"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},5202:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/health-changed-event-drop-21aada4bf7371b098aa6652b0e8b684a.gif"},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var s=n(6540);const a={},i=s.createContext(a);function r(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:t},e.children)}},9527:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/events-to-healthbar-7477c1afe648005a0633b16c5679aff0.gif"}}]);